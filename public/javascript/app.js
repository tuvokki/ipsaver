var app;app=angular.module("ipSaver",["ngRoute"]),app.config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/index.html",controller:"IndexController"}).otherwise({templateUrl:"partials/notthere.html",controller:"NotThereController"})}]);
app.directive("sharedFooter",function(){return{template:'<a href="/iplist">raw list</a>'}});
app.directive("sharedHeader",function(){return{template:"<h1>{{whatsMyName}}</h1>"}});
app.directive("ipList",function(){return{template:'<div class="wrap head"> <div class="col1of4"> <span>Ip:</span> </div> <div class="col1of4"> <span>Comment:</span> </div> <div class="col1of4"> <span>Host:</span> </div> <div class="col1of4"> <span>Date:</span> </div> </div> <div class="wrap data"> <div ng-repeat="iprecord in iplist" class="record"> <div class="col1of4"> {{ iprecord.ip }} </div> <div class="col1of4"> {{ iprecord.msg }} </div> <div class="col1of4"> {{ iprecord.host }} </div> <div class="col1of4"> {{ iprecord.date | date : "MM/dd/yyyy h:mma" }} </div> </div> </div>'}}),app.directive("ipForm",function(){return{template:'<div class="wrap form"> <form id="ipsave" ng-submit="submitIp()"> <div class="col1of4"> <h6>Your ip:</h6> <span>{{ myip }}</span> </div> <div class="col1of4"> <h6>Comment:</h6> <input ng-model="message" id="comment" type="text" value="" placeholder=" - Type your comment - " name="comment"> </div> <div class="col1of4"> <h6>Host:</h6> frontend <input id="host" type="hidden" value="frontend" name="host"> </div> <div class="col1of4"> <h6>Save now:</h6> <input type="submit" value="save"> </div> </form> </div>'}});
app.directive("myDomDirective",function(){return{link:function(n,c){c.bind("click",function(){c.html("You clicked me!")}),c.bind("mouseenter",function(){c.css("background-color","yellow")}),c.bind("mouseleave",function(){c.css("background-color","white")})}}});
app.factory("IpData",["$http","$q",function(t,n){return{getIpList:function(){var e;return e=t.get("/iplist"),e.then(function(t){if("object"==typeof t.data){var e=t.data;return e}return n.reject(t.data)},function(t){return n.reject(t.data)})},saveIp:function(e){return t.post("/ipsave",e).then(function(){},function(t){return n.reject(t.data)})}}}]);
app.controller("IndexController",["$scope","IpData",function(t,n){return t.whatsMyName="The list",n.getIpList().then(function(n){return t.iplist=n}),t.submitIp=function(){var e;return e={date:Date.now(),msg:t.message,host:"frontend",ip:t.myip},n.saveIp(e).then(function(){return t.iplist.unshift(e)})}}]);
app.controller("NotThereController",["$scope","$location",function(o,r){o.whatsMyName="Error not found",o.message="Sorry, the page you are looking for is not here."+r.path(),o.errorcode=404}]);